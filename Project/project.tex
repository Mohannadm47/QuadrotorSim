\documentclass[12pt,fleqn]{article}

\newcommand{\mbm}[1]{\mbox{\boldmath $#1$}}
\newcommand{\norm}[1]{\lVert#1\rVert}


\usepackage[small,hang]{caption2}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage{pdfpages}
\usepackage[          % set page and margin sizes
  a4paper,
  top=7mm,
  bottom=7mm,
  inner=20mm,
  outer=20mm,
  bindingoffset=0mm,
  head=10mm,
  foot=10mm,
  headsep=15mm,
  footskip=15mm,
  includeheadfoot,
]{geometry}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[LO,LE]{Project Work}
\fancyhead[CO,CE]{--- Quadcopter Stabilization and Tracking ---}
\fancyhead[RO,RE]{May $27$, $2016$}
\fancyfoot[RO, LE] {\thepage}


%%%%%%%%%%%%%
%%Titlepage%%
%%%%%%%%%%%%%%

\begin{document}
\thispagestyle{empty}
\noindent\makebox[\linewidth]{\rule{.75\paperwidth}{0.4pt}}
\begin{center}
{\Large \textbf{{\"O}rebro University}}
\end{center}
\vspace{-4mm}
\noindent\makebox[\linewidth]{\rule{.75\paperwidth}{0.4pt}} \\
\vspace{4cm}
\begin{center}
{\Large\sffamily\bfseries
Project Work: \\[1ex]
Quadcopter Stabilization and Tracking \\[2ex]
}

\vspace{6cm}
\noindent\makebox[\linewidth]{\rule{.75\paperwidth}{0.4pt}}
{\large
\renewcommand{\arraystretch}{1.5}
  \begin{tabular}{l}
   \textbf{Anders Wikstr\"{o}m}\\
   (anders.wikstrom.88@gmail.com)\\
   \textbf{Chittaranjan Srinivas Swaminathan}\\
   (chitt@live.in)\\
 \end{tabular}}
\end{center}
\vspace{-2mm}
\noindent\makebox[\linewidth]{\rule{.75\paperwidth}{0.4pt}}
\newpage

\tableofcontents

\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%
%%Beginning of document%%
%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Abstract}
Quadcopters are non-holonomic and non-linear systems that are highly
difficult to control. The aim of this project is to understand the
model and design a inverse dynamics controller for altitude stability
and trajectory tracking. In this report we present an Inverse Dynamics
controller, using which the quadcoptor is able to track trajectories
with an error magnitude less than $10^{-3}$. 

\section{Introduction}

\section{Background}
In this section we describe the model of the quadcopter used in the
simulation and control. The following subsections detail the different
components of the dynamics.

\subsection{Forces and Torques}

In the following sections, the different forces and torques used in
the model are explained. In most cases, a simplified formula is used
for convenience. 

\subsubsection{Forces generated by the propellers}

The thrust from each propeller is proportional to the square of the
angular velocity of the motor \cite{Andrew}. Thus, the thrust from the
$i^{th}$ propeller could be written as:

$$ T_i = k\omega_i^2 $$

The thrust vector in the z-axis of the body frame, $\mbm{T_{B}}$, can
be written as, 

\begin{equation} \label{thrust}
$$ \mbm{T_{B}} = k \begin{bmatrix}0 \\ 0\\ \sum \limits_{i=1}^{4}
  \omega_i^2 \end{bmatrix} $$
\end{equation}

\subsubsection{Drag force on the quadcopter}
We model the drag force as a force proportional to the linear velocity
in each direction. 

$$ \mbm{F_D} = \begin{bmatrix} -k_d\dot{x}\\ -k_d\dot{y}\\
  -k_d\dot{z} \end{bmatrix} $$

Which can be written as 
\begin{equation} \label{dragforce}
$$ \mbm{F_D}= -k_d\mbm{\dot{x}}$$.
\end{equation}

\subsubsection{Torques generated by the propellers}

Again from \cite{Andrew}, the torque due to individual motors is also
proportional to the square of the angular velocity.

$$ \tau = b\ \omega^2 $$

So the net torque in the z-axis of the body frame is,

\begin{equation} \label{taupsi}
$$ \tau_\psi = b\ (\omega_1^2 - \omega_2^2 + \omega_3^2 -
\omega_4^2) $$
\end{equation}

The roll and pitch torques are simply due the difference in torques
generated due to the thrust in the opposing motors. Let $L$ be the
length of each arm of the quadcoptor and, if motors 1 and 3 are along
the y-axis and motors 2 and 4 were along the x-axis, the torque along
the x-axis is given by,

\begin{equation} \label{tauphi}
$$ \tau_\phi = L (k\omega_1^2 - k\omega_3^2) $$
\end{equation}

The torque along the y-axis is given by,
\begin{equation} \label{tautheta}
$$ \tau_\theta = L (k\omega_2^2 - k\omega_4^2) $$
\end{equation}

Putting the three components from \ref{taupsi}, \ref{tauphi} and
\ref{tautheta} together, we have the torque vector in the body frame as,

\begin{equation} \label{tauvector} 
$$ \mbm{\tau_B} = \begin{bmatrix} L (k\omega_1^2 - k\omega_3^2)\\ L
  (k\omega_2^2 - k\omega_4^2) \\ b\ (\omega_1^2 - \omega_2^2 + \omega_3^2 -
\omega_4^2) \end{bmatrix} $$
\end{equation}

\subsection{Equations of motion}

The linear dynamics of the quadrotor system can be described by the
following equation:

$$ m \mbm{\ddot{x}} = \mbm{G} + \mbm{^BR_IT_{B}} + \mbm{F_{drag}} $$

where, 

$$ \mbm{G} = \begin{bmatrix} 0 \\ 0 \\ -mg \end{bmatrix} $$

and,\\ 

$ \mbm{^BR_I} $ is the rotation matrix from the inertial frame to the
body frame. Thus, any vector pre-multiplied by the matrix is
rotated to the inertial frame.

$$ \mbm{^BR_I} = \begin{bmatrix} C_\theta C_\psi && -C_\theta S_\psi && S_\theta\\
C_\phi S_\psi + C_\psi S_\phi S_\theta&& C_\phi C_\psi - S_\phi
S_\theta S_\psi&& -C_\theta S_\phi\\
S_\phi S_\psi - C_\phi C_\psi S_\theta&&
C_\psi S_\phi + C_\phi S_\theta S_\psi&&
C_\phi C_\theta \end{bmatrix} $$
\\

The rotational dynamics are given by Euler's equations for rigid body
dynamics. It

$$ \mbm{I\dot{\omega}} + \mbm{\omega} \times (\mbm{I\omega}) $$

Note that here $\mbm{\omega}$ denotes the angular velocity of the
quadcopter in the body-frame. 



\section{Approach}

\section{Results}

\section{Conclusion}

  \textbf{Answer}: $$ \mbm{M} = \begin{bmatrix}1&&0&&0&&0 \\
    0&&0.5&&0&&0 \\ 0&&0&&1&&0 \\ 0&&0&&0&&1 \end{bmatrix} $$ \\ such
  that, $\mbm{MA}$ gives the required result.   

\addcontentsline{toc}{section}{References}

\bibliographystyle{ieeetr}
\bibliography{project}


\end{document}